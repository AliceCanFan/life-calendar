<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Life calendar</title>
	<link rel='stylesheet' href='bootstrap/css/bootstrap.min.css'>
	<link rel='stylesheet' href='bootstrap/css/bootstrap-theme.min.css'>
	<style media="print">
		@page 
		{
			size: auto;   /* auto is the current printer page size */
			margin: 0mm;  /* this affects the margin in the printer settings */
		}
	</style>
	<style>
		canvas {
			background-color: transparent;
		}
	</style>
</head>
<body>


<div class="container">

	<div class="row">
		<div class="col-md-3 hidden-print">
			<div>
				<p>Set your birthday: <input type="date" id="b-date"></p>
			</div>
			<div>
				<a href="#" class="btn btn-default" id="saveImageBtn">Save as Image</a>
			</div>
		</div>
		<div class="col-md-9">
			<div id="life-calendar"></div>
		</div>
	</div>

</div>

<script src="../src/life-calendar.js"></script>
<script>
(function(){

	var date = document.getElementById('b-date'),
		block = document.getElementById('life-calendar'),
		saveImage = document.getElementById('saveImageBtn');

	LC.init(block);

	date.onchange = function (e) {
		var date = new Date(Date.parse(e.target.value));

		LC.update(date);

		return false;
	};
	
	saveImage.onclick = function (e) {
		var image = block.querySelector('canvas').toDataURL("image/png");
		image = image.replace("image/png", "image/octet-stream");

		e.target.href = image;
		e.target.download = "my-life-calendar.png";
	};

}());
</script>
</body>
</html>